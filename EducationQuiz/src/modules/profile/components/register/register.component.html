<form [formGroup]="registerForm" (ngSubmit)="registration()" validate>
    <p>Регистрация</p>
    <mat-form-field class="half-width" appearance="outline">
        <mat-label>Введите прозвище</mat-label>
        <input matInput placeholder="Ваше прозвище" formControlName="username" required>
        <mat-error *ngIf="registerForm.controls['username'].invalid">
            <p>Введите Ваше прозвище</p>
        </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field class="half-width" appearance="outline">
        <mat-label>Введите имя</mat-label>
        <input matInput placeholder="Ваше имя" formControlName="firstname" required>
        <mat-error *ngIf="registerForm.controls['firstname'].invalid">
            <p>Введите Ваше имя</p>
        </mat-error>
    </mat-form-field>
    <mat-form-field class="half-width" appearance="outline">
        <mat-label>Введите фамилию</mat-label>
        <input matInput placeholder="Ваша фамилия" formControlName="secondname" required>
        <mat-error *ngIf="registerForm.controls['secondname'].invalid">
            <p>Введите Вашу фамилию</p>
        </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field class="three-quarters-width" appearance="outline">
        <mat-label>Введите почту</mat-label>
        <input matInput placeholder="mail@example.com" formControlName="еmail" required>
        <mat-error *ngIf="registerForm.controls['еmail'].invalid">
            <p>Введите Вашу почту</p>
        </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field class="half-width" appearance="outline">
        <mat-label>Введите пароль</mat-label>
        <input matInput placeholder="Ваша фамилия" formControlName="password" type="password" required>
        <mat-error *ngIf="registerForm.controls['password'].invalid">
            <p>Введите Вашу фамилию</p>
        </mat-error>
    </mat-form-field>
    <mat-form-field class="half-width" appearance="outline">
        <mat-label>Повторите пароль</mat-label>
        <input matInput placeholder="Повторите пароль" formControlName="confirmPassword" type="password" required>
        <mat-error *ngIf="registerForm.controls['confirmPassword'].invalid">
            <p>Пароли не совпадают</p>
        </mat-error>
    </mat-form-field>
    <br>
    <label>Я: </label>
    <mat-radio-group formControlName="role">
        <mat-radio-button value="ST" selected>Ученик</mat-radio-button>
        <mat-radio-button value="TE">Учитель</mat-radio-button>
    </mat-radio-group>
    <br>
    <br>
    <button mat-stroked-button color=primary>Зарегестрироваться</button>

    <div *ngIf="isError">
        <div *ngIf="errors.username">
            <mat-error *ngFor="let error of errors.username">
                <p>{{error}}</p>
            </mat-error>
        </div>
        <div *ngIf="errors.email">
            <mat-error *ngFor="let error of errors.email">
                <p>{{error}}</p>
            </mat-error>
        </div>
        <div *ngIf="errors.first_name">
            <mat-error *ngFor="let error of errors.first_name">
                <p>{{error}}</p>
            </mat-error>
        </div>
        <div *ngIf="errors.last_name">
            <mat-error *ngFor="let error of errors.last_name">
                <p>{{error}}</p>
            </mat-error>
        </div>
        <div *ngIf="errors.password1">
            <mat-error *ngFor="let error of errors.password1">
                <p>{{error}}</p>
            </mat-error>
        </div>
        <div *ngIf="errors.password2">
            <mat-error *ngFor="let error of errors.password2">
                <p>{{error}}</p>
            </mat-error>
        </div>
        <div *ngIf="errors.role">
            <mat-error *ngFor="let error of errors.role">
                <p>{{error}}</p>
            </mat-error>
        </div>
    </div>
</form>

<app-loading [show]="showLoading"></app-loading>